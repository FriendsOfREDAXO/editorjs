<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero Block Demo - EditorJS</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: #f8f9fa;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 2.5rem;
            font-weight: 800;
        }
        
        .header p {
            margin: 0;
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .demo-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        }
        
        .demo-section h2 {
            margin: 0 0 20px 0;
            color: #2c3e50;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        #editorjs {
            border: 1px solid #e9ecef;
            border-radius: 8px;
            min-height: 400px;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .feature h3 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 1.2rem;
        }
        
        .feature p {
            margin: 0;
            color: #6c757d;
            font-size: 0.95rem;
        }
        
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin-top: 20px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            margin: 10px 10px 10px 0;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
        }
        
        .demo-controls {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Hero Block Demo</h1>
            <p>Cooler Hero-Block f√ºr EditorJS mit modernem Design und vielen Features</p>
        </div>
        
        <div class="demo-section">
            <h2>Live Demo</h2>
            <p>Testen Sie den Hero Block direkt hier im Editor:</p>
            <div id="editorjs"></div>
            
            <div class="demo-controls">
                <button class="btn" onclick="saveContent()">Inhalt speichern</button>
                <button class="btn btn-secondary" onclick="loadSampleContent()">Beispiel laden</button>
                <button class="btn btn-secondary" onclick="clearContent()">Leeren</button>
                <button class="btn btn-secondary" onclick="debugEditorJSTools()">Debug Tools</button>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>Features</h2>
            <div class="features">
                <div class="feature">
                    <h3>üì± Responsive Design</h3>
                    <p>Automatische Anpassung an alle Bildschirmgr√∂√üen mit optimierter mobiler Darstellung</p>
                </div>
                <div class="feature">
                    <h3>üé® Anpassbare H√∂hen</h3>
                    <p>4 verschiedene H√∂hen: Klein, Mittel, Gro√ü und Vollbild f√ºr perfekte Proportionen</p>
                </div>
                <div class="feature">
                    <h3>üñºÔ∏è Hintergrundbilder</h3>
                    <p>Integration mit REDAXO Medienpool f√ºr einfache Bildauswahl und -verwaltung</p>
                </div>
                <div class="feature">
                    <h3>üé≠ Overlay-Optionen</h3>
                    <p>4 Overlay-Varianten: Keine, Hell, Dunkel und Gradient f√ºr optimale Lesbarkeit</p>
                </div>
                <div class="feature">
                    <h3>üìù Rich Text Editing</h3>
                    <p>Vollst√§ndige Formatierung f√ºr Titel, Untertitel und Beschreibungstext</p>
                </div>
                <div class="feature">
                    <h3>üîò Call-to-Action Buttons</h3>
                    <p>Zwei konfigurierbare Buttons mit individuellen URLs und Styling</p>
                </div>
                <div class="feature">
                    <h3>üéØ Ausrichtungsoptionen</h3>
                    <p>Links-, zentrierte oder rechtsb√ºndige Ausrichtung des Inhalts</p>
                </div>
                <div class="feature">
                    <h3>‚ú® Coole Animationen</h3>
                    <p>Smooth CSS-Animationen und Hover-Effekte f√ºr moderne Benutzererfahrung</p>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>Integration</h2>
            <p>So integrieren Sie den Hero Block in Ihr EditorJS Setup:</p>
            
            <div class="code-example">
import HeroBlock from './blocks/hero.js';
import './blocks/hero.css';

const editor = new EditorJS({
    holder: 'editorjs',
    tools: {
        hero: {
            class: HeroBlock,
            config: {
                // Optional: Konfiguration f√ºr REXMediaTool
                mediaConfig: {
                    types: ['jpg', 'jpeg', 'png', 'gif', 'svg', 'webp'],
                    category: null
                }
            }
        },
        // ... andere Tools
    }
});
            </div>
        </div>
        
        <div class="demo-section">
            <h2>Verwendung</h2>
            <div class="features">
                <div class="feature">
                    <h3>1. Block hinzuf√ºgen</h3>
                    <p>Klicken Sie auf das Plus-Symbol und w√§hlen Sie "Hero Section" aus der Toolbar</p>
                </div>
                <div class="feature">
                    <h3>2. Inhalte bearbeiten</h3>
                    <p>Klicken Sie direkt auf Titel, Untertitel oder Text um diese zu bearbeiten</p>
                </div>
                <div class="feature">
                    <h3>3. Bild hinzuf√ºgen</h3>
                    <p>Klicken Sie auf den Bild-Upload-Bereich um ein Hintergrundbild auszuw√§hlen</p>
                </div>
                <div class="feature">
                    <h3>4. Buttons konfigurieren</h3>
                    <p>Doppelklicken Sie auf die Buttons um deren URLs zu bearbeiten</p>
                </div>
                <div class="feature">
                    <h3>5. Design anpassen</h3>
                    <p>Nutzen Sie die Einstellungen um H√∂he, Overlay und Ausrichtung anzupassen</p>
                </div>
                <div class="feature">
                    <h3>6. Speichern</h3>
                    <p>Der Block wird automatisch mit allen Einstellungen gespeichert</p>
                </div>
            </div>
        </div>
    </div>

    <!-- EditorJS und Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/header@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/paragraph@latest"></script>
    <script src="debug-tools.js"></script>
    
    <script>
        // Mock REXMediaTool f√ºr Demo
        class REXMediaTool {
            constructor({ api, config }) {
                this.api = api;
                this.config = config || {};
            }
            
            selectMedia(callback) {
                // Benutzerfreundlichere Demo-Auswahl
                const choice = prompt(
                    'üñºÔ∏è Hintergrundbild ausw√§hlen:\n\n' +
                    '1 = üé≤ Zuf√§lliges Demo-Bild\n' +
                    '2 = üìÅ Eigene Datei hochladen\n' +
                    '3 = üîó Bild-URL eingeben\n\n' +
                    'Geben Sie 1, 2 oder 3 ein:'
                );

                switch (choice) {
                    case '1':
                        this._selectDemoImage(callback);
                        break;
                    case '2':
                        this._selectFileUpload(callback);
                        break;
                    case '3':
                        this._selectImageURL(callback);
                        break;
                    default:
                        // Standard: Demo-Bild
                        this._selectDemoImage(callback);
                }
            }

            _selectDemoImage(callback) {
                const sampleImages = [
                    { url: 'https://images.unsplash.com/photo-1557804506-669a67965ba0?ixlib=rb-4.0.3&auto=format&fit=crop&w=2400&q=80', title: 'Moderne B√ºrogeb√§ude' },
                    { url: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=2400&q=80', title: 'Weltraum und Sterne' },
                    { url: 'https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2400&q=80', title: 'Technologie und Code' },
                    { url: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2400&q=80', title: 'Berge und Landschaft' },
                    { url: 'https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&auto=format&fit=crop&w=2400&q=80', title: 'Natur und Wald' }
                ];
                
                const randomImage = sampleImages[Math.floor(Math.random() * sampleImages.length)];
                setTimeout(() => { callback(randomImage); }, 500);
            }

            _selectFileUpload(callback) {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        if (file.size > 5 * 1024 * 1024) {
                            alert('Datei ist zu gro√ü (max. 5MB)');
                            return;
                        }
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            callback({ url: e.target.result, title: file.name });
                        };
                        reader.readAsDataURL(file);
                    }
                };
                input.click();
            }

            _selectImageURL(callback) {
                const url = prompt('üîó Bitte geben Sie die Bild-URL ein:');
                if (url && url.trim()) {
                    const isValid = url.match(/\.(jpeg|jpg|gif|png|svg|webp)$/i) || url.includes('unsplash.com') || url.includes('images.');
                    if (isValid) {
                        callback({ url: url.trim(), title: 'Benutzerdefiniertes Bild' });
                    } else {
                        alert('‚ùå Bitte geben Sie eine g√ºltige Bild-URL ein');
                    }
                }
            }
        }
        
        // Hero Block Definition (vereinfacht f√ºr Demo)
        class HeroBlock {
            static get toolbox() {
                return {
                    title: 'Hero Section',
                    icon: '<svg width="17" height="15" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/><circle cx="8" cy="8" r="2" fill="currentColor"/><path d="M12 12l2-2 4 4H6l3-3z" fill="currentColor"/></svg>'
                };
            }
            
            constructor({ data, config, api, readOnly }) {
                this.api = api;
                this.readOnly = readOnly;
                this.data = data || {};
                this.mediaTool = new REXMediaTool({ api, config });
                
                // Default data
                Object.assign(this.data, {
                    title: 'Willkommen in der Zukunft',
                    subtitle: 'Innovative L√∂sungen f√ºr moderne Herausforderungen',
                    text: 'Entdecken Sie unsere revolution√§ren Produkte und Services, die Ihr Business auf das n√§chste Level bringen.',
                    backgroundImage: '',
                    backgroundColor: 'gradient',
                    primaryButton: { text: 'Jetzt starten', url: '#' },
                    secondaryButton: { text: 'Mehr erfahren', url: '#' },
                    height: 'medium',
                    overlay: 'dark',
                    alignment: 'center',
                    ...this.data
                });
            }
            
            render() {
                const wrapper = document.createElement('div');
                wrapper.className = 'cdx-hero';
                wrapper.innerHTML = `
                    <div class="cdx-hero__container" data-height="${this.data.height}" data-alignment="${this.data.alignment}" data-background="${this.data.backgroundColor}">
                        <div class="cdx-hero__background">
                            ${this.data.backgroundImage ? `<img src="${this.data.backgroundImage}" alt="Hero Background">` : ''}
                        </div>
                        <div class="cdx-hero__overlay" data-overlay="${this.data.overlay}"></div>
                        <div class="cdx-hero__content">
                            <h1 class="cdx-hero__title" contenteditable="${!this.readOnly}">${this.data.title}</h1>
                            <h2 class="cdx-hero__subtitle" contenteditable="${!this.readOnly}">${this.data.subtitle}</h2>
                            <div class="cdx-hero__text" contenteditable="${!this.readOnly}">${this.data.text}</div>
                            <div class="cdx-hero__actions">
                                <div class="cdx-hero__button">
                                    <span contenteditable="${!this.readOnly}">${this.data.primaryButton.text}</span>
                                </div>
                                <div class="cdx-hero__button cdx-hero__button--secondary">
                                    <span contenteditable="${!this.readOnly}">${this.data.secondaryButton.text}</span>
                                </div>
                            </div>
                        </div>
                        ${!this.readOnly ? `
                            <div class="cdx-hero__image-upload">
                                ${this.data.backgroundImage ? `
                                    <div class="cdx-hero__image-preview">
                                        <button class="cdx-hero__remove-image">√ó</button>
                                    </div>
                                ` : `
                                    <div class="cdx-hero__upload-placeholder">
                                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                            <circle cx="8.5" cy="8.5" r="1.5"/>
                                            <polyline points="21,15 16,10 5,21"/>
                                        </svg>
                                        <p>Hintergrundbild hinzuf√ºgen</p>
                                        <small>Klicken f√ºr Demo-Bild</small>
                                    </div>
                                `}
                            </div>
                        ` : ''}
                    </div>
                `;
                
                this._bindEvents(wrapper);
                return wrapper;
            }
            
            _bindEvents(wrapper) {
                // Einfache Event-Bindung f√ºr Demo
                const imageUpload = wrapper.querySelector('.cdx-hero__image-upload');
                if (imageUpload) {
                    imageUpload.addEventListener('click', () => {
                        if (!this.data.backgroundImage) {
                            this.mediaTool.selectMedia((media) => {
                                this.data.backgroundImage = media.url;
                                this._updateDisplay(wrapper);
                            });
                        }
                    });
                }
                
                const removeBtn = wrapper.querySelector('.cdx-hero__remove-image');
                if (removeBtn) {
                    removeBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.data.backgroundImage = '';
                        this._updateDisplay(wrapper);
                    });
                }
            }
            
            _updateDisplay(wrapper) {
                const newWrapper = this.render();
                wrapper.innerHTML = newWrapper.innerHTML;
                this._bindEvents(wrapper);
            }
            
            save() {
                return this.data;
            }
        }
        
        // Editor initialisieren
        let editor;
        
        function initEditor() {
            editor = new EditorJS({
                holder: 'editorjs',
                placeholder: 'Beginnen Sie mit dem Schreiben oder f√ºgen Sie einen Hero Block hinzu...',
                tools: {
                    hero: HeroBlock,
                    header: {
                        class: Header,
                        config: {
                            levels: [1, 2, 3, 4, 5, 6],
                            defaultLevel: 2
                        }
                    },
                    paragraph: {
                        class: Paragraph,
                        inlineToolbar: true
                    }
                },
                data: {
                    blocks: [
                        {
                            type: 'hero',
                            data: {
                                title: 'Willkommen beim Hero Block! üöÄ',
                                subtitle: 'Ein moderner, anpassbarer Hero-Block f√ºr EditorJS',
                                text: 'Dieser Block bietet alle Features, die Sie f√ºr beeindruckende Landing Pages ben√∂tigen. Probieren Sie die verschiedenen Einstellungen aus!',
                                backgroundImage: '',
                                primaryButton: { text: 'Jetzt testen', url: '#demo' },
                                secondaryButton: { text: 'Dokumentation', url: '#docs' },
                                height: 'medium',
                                overlay: 'dark',
                                alignment: 'center'
                            }
                        }
                    ]
                }
            });
        }
        
        function saveContent() {
            editor.save().then((outputData) => {
                console.log('Gespeicherte Daten:', outputData);
                alert('Inhalt gespeichert! Schauen Sie in die Browser-Konsole f√ºr Details.');
            });
        }
        
        function loadSampleContent() {
            const sampleData = {
                blocks: [
                    {
                        type: 'hero',
                        data: {
                            title: 'Revolution√§re Technologie üöÄ',
                            subtitle: 'Die Zukunft beginnt heute',
                            text: 'Entdecken Sie unsere innovative Plattform, die Ihr Business transformiert und neue M√∂glichkeiten er√∂ffnet.',
                            backgroundImage: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=2400&q=80',
                            backgroundColor: 'blue',
                            primaryButton: { text: 'Demo starten', url: '#demo' },
                            secondaryButton: { text: 'Preise ansehen', url: '#pricing' },
                            height: 'large',
                            overlay: 'gradient',
                            alignment: 'center'
                        }
                    },
                    {
                        type: 'header',
                        data: {
                            text: 'Features im √úberblick',
                            level: 2
                        }
                    },
                    {
                        type: 'paragraph',
                        data: {
                            text: 'Der Hero Block bietet zahlreiche Anpassungsm√∂glichkeiten f√ºr perfekte Landing Pages.'
                        }
                    }
                ]
            };
            
            editor.render(sampleData);
        }
        
        function clearContent() {
            editor.clear();
        }
        
        // Nach dem Laden der Seite initialisieren
        document.addEventListener('DOMContentLoaded', initEditor);
    </script>
    
    <!-- Hero Block CSS direkt eingebunden f√ºr Demo -->
    <link rel="stylesheet" href="hero.css">
</body>
</html>
